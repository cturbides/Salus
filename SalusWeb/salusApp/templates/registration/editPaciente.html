{% extends 'salusApp/dashboard_base.html' %}
{% load static %}

{% block content %}
    <!-- CONTENT -->
    
        <!-- MAIN -->
        <main>
            <div class="head-title">
                <div class="left">
                    <h1>Lista de pacientes</h1>
                    <ul class="breadcrumb">
                        <li>
                            <a href="#">Dashboard</a>
                        </li>
                        <li><i class='bx bx-chevron-right'></i></li>
                        <li>
                            <a class="active" href="{% url 'equipo' %}">Equipo</a>
                        </li>
                        <li><i class='bx bx-chevron-right'></i></li>
                        
                        <li>
                            <a class="active" href="{% url 'pacientes' %}">Pacientes</a>
                        </li>
                        <li><i class='bx bx-chevron-right'></i></li>
                        <li>
                            <a class="active" href="{% url 'pacientes-edit' patient.id %}">Editando a {{patient.person.first_name}}</a>
                        </li>
                    </ul>
                </div>

            </div>
            <!-- Head title -->

            <!-- For enfermera en blabla-->
            <div class="table-data">
                <div class="order">
                    <div class="head">
                        <h3>Formulario</h3>
                    </div>
                    <form method="POST" action="" class="form">
                        {% csrf_token %}
                        <ul class="box-info">
                            <li>
                                <!-- Primer Nombre-->
                                <span class="text">
                                    <h3>Nombre</h3>
                                    <input id="id_first_name" type="text" name="first_name" maxlength="30" required="" value="{{patient.person.first_name}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            <li>
                                <!-- Primer apellido -->
                                <span class="text">
                                    <h3>Apellido</h3>
                                    <input id="id_last_name" type="text" name="last_name" required="" value="{{patient.person.last_name}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            <li>
                                <!-- Edad -->
                                <span class="text">
                                    <h3>Edad</h3>
                                    <input id="id_age" type="number" name="age" required="" value="{{patient.person.age}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                        </ul>
                        <ul class="box-info">
                            <li>
                                <!-- Residencia -->
                                <span class="text">
                                    <h3>Residencia</h3>
                                    <input id="id_address" type="text" maxlength="100" name="address" required="" value="{{patient.person.address}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            <li>
                                <!-- Sexo -->
                                <span class="text">
                                    <h3>Sexo</h3>
                                    <select id="id_sex" name="sex" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                    {% if patient.person.sex == 'M' %}
                                    <option selected value="M">Hombre</option>
                                    <option value="F">Mujer</option>
                                    {% else %}
                                    <option value="M">Hombre</option>
                                    <option selected value="F">Mujer</option>
                                    {% endif %}    
                                    
                                    </select>
                                </span>  
                            </li>
                            <li>
                                <!-- Cedula -->
                                <span class="text">
                                    <h3>Numero de identidad</h3>
                                    <input id="id_id_card_number" type="text" maxlength="10" name="id_card_number" required="" value="{{patient.person.id_card_number}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                        </ul>
                        
                        <ul class="box-info">
                            <li>
                                <!-- Numero de telefono -->
                                <span class="text">
                                    <h3>Numero de telefono</h3>
                                    <input id="id_phone" type="text" maxlength="15" name="phone" required="" value="{{patient.person.phone}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            
                            <li>
                                <!-- Enfermeras -->
                                <span class="text">
                                    <h3>Enfermero a cargo</h3>
                                    <select id="id_nurse" name="nurse" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                        {% for nurse in nurses %}
                                        {% if nurse == patient.nurse %}
                                        <option selected value="{{nurse.id}}">{{nurse.first_name}}</option>
                                        {% else %}
                                        <option value="{{nurse.id}}">{{nurse.first_name}}</option>
                                        {% endif %}
                                        {% endfor %}
                                    </select>
                                </span>  
                            </li>

                            <li>
                                <!-- Photo-->
                                <span class="text">
                                    <h3>Foto del paciente</h3>
                                    <input id="id_photo" type="file"  name="photo"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                        </ul>

                        <ul class="box-info">
                            <li>
                                <!-- Nombre - Referencia -->
                                <span class="text">
                                    <h3>Nombre - Referencia</h3>
                                    <input id="id_reference_first_name" type="text" name="reference_first_name" maxlength="30" required="" value="{{patient.reference_first_name}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            <li>
                                <!-- Apellido - Referencia -->
                                <span class="text">
                                    <h3>Apellido - Referencia</h3>
                                    <input id="id_reference_last_name" type="text" name="reference_last_name" required="" value="{{patient.reference_last_name}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            <li>
                                <!-- Telefono - Referencia -->
                                <span class="text">
                                    <h3>Telefono - Referencia</h3>
                                    <input id="id_reference_phone" type="text" maxlength="15" name="reference_phone" required="" value="{{patient.reference_phone}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                        </ul>

                        <ul class="box-info">
                            <li>
                                <!-- Parentesco -->
                                <span class="text">
                                    <h3>Parentesto - Referencia</h3>
                                    <select id="id_reference_kindship" name="reference_kindship" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                        {% for kinship_type in kindship_types %}
                                        {% if patient.reference_kindship == kinship_type.0 %}
                                        <option selected value="kinship_type.0">{{kinship_type.1}}</option>
                                        {% else %}
                                        <option value="kinship_type.0">{{kinship_type.1}}</option>
                                        {% endif %}
                                        {% endfor %}
                                    </select>
                                </span>  
                            </li>


                            <li>
                                <!-- Peso en kilogramos -->
                                <span class="text">
                                    <h3>Peso en libras</h3>
                                    <input id="id_idweight_in_pounds" step="any" type="number" name="weight_in_pounds" maxlength="30" required="" value="{{patient.weight_in_pounds}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                            <li>
                                <!-- Altura en metros -->
                                <span class="text">
                                    <h3>Altura en metros</h3>
                                    <input id="id_idheight_in_meters" step="any" type="number" name="height_in_meters" required="" value="{{patient.height_in_meters}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                        </ul>

                        <ul class="box-info">
                            <li>
                                <!-- ARS -->
                                <span class="text">
                                    <h3>Nombre de la aseguradora</h3>
                                    <input id="id_idars" type="text" maxlength="15" name="ars" required="" value="{{patient.ars}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>

                            <li>
                                <!-- Tipo de sangre -->
                                <span class="text">
                                    <h3>Tipo de sangre</h3>
                                    <select id="id_person_blood_type" name="person_blood_type" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                    {% for blood_type in blood_types  %}
                                    {% if blood_type == patient.person_blood_type %}
                                    <option selected value="{{blood_type}}">{{blood_type}}</option>
                                    {% else %}
                                    <option value="{{blood_type}}">{{blood_type}}</option>
                                    {% endif %}
                                    {% endfor %}
                                    </select>
                                </span>  
                            </li>
                            
                            <li>
                                <!-- Enfermedad -->
                                <span class="text">
                                    <h3>Enfermedad</h3>
                                    <input id="id_idillness" type="text" maxlength="20" name="illness" required="" value="{{patient.illness}}"
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                </span>  
                            </li>
                        </ul>

                        <ul class="box-info">         
                            <li>
                                <!-- Tipo de sangre -->
                                <span class="text">
                                    <h3>Tipo de hospitalizacion</h3> <!-- Agregar tilde-->
                                    <select id="id_idhospitalization" name="hospitalization" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                                                        <!-- hospitalizacion choices-->
                                    {% for hospitalization_type in hospitalization_types %}
                                    {% if patient.hospitalization == hospitalization_type.0 %}
                                    <option selected value="{{hospitalization_type.0}}">{{hospitalization_type.1}}</option>
                                    {% else %}
                                    <option value="{{hospitalization_type.0}}">{{hospitalization_type.1}}</option>
                                    {% endif %}
                                    {% endfor %}
                                    </select>
                                </span>  
                            </li>

                            <li>
                                <!-- Doctores -->
                                <span class="text">
                                    <h3>Doctor a cargo</h3>
                                    <select id="id_iddoctor" name="doctor" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                    {% for doctor in doctors %}
                                        {% if doctor == patient.doctor %}
                                        <option selected value="{{doctor.id}}">{{doctor.first_name}}</option>
                                        {% else %}
                                        <option value="{{doctor.id}}">{{doctor.first_name}}</option>
                                        {% endif %}
                                        {% endfor %}
                                    </select>
                                </span>  
                            </li>

                            <li>
                                <!-- Habitaciones disponibles -->
                                <span class="text">
                                    <h3>Habitaciones disponibles</h3>
                                    <select id="id_idroom" name="room" 
                                    style="border: none !important;
                                    border-bottom: 1px solid #000!important;
                                    background: transparent!important;
                                    outline: none!important;
                                    height: 40px!important;
                                    color: #000!important;
                                    font-size: 16px!important;
                                    margin-bottom: 20px!important;">
                                    <option value="None" selected>--</option>
    
                                        {% for room in rooms %}
                                        <option value="{{room.id}}">{{room.room_name}}</option>
                                        {% endfor %}
                                    </select>
                                </span>  
                            </li>
                        </ul>

                        <div class="head-title">
                            <div class="left">
                                <ul class="breadcrumb">
                                    <li>
                                        <input type="submit" value="Enviar"
                                        style="border: none !important;
                                            border-bottom: 1px solid #000!important;
                                            background: transparent!important;
                                            outline: none!important;
                                            height: 40px!important;
                                            color: #000!important;
                                            font-size: 16px!important;
                                            margin-bottom: 20px!important;" 
                                            onMouseOver="this.style.color='#fff'; this.style.cursor='pointer';" onMouseOut="this.style.color='#000'">
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </main>
        <!-- MAIN -->
    </section>
    <!-- CONTENT -->

{% endblock content %}